(function(p){function y(a,b){var c=a.step||1;if(!a.noList&&void 0!==a.min&&void 0!==a.max&&20>(a.max-a.min)/c)E.showScroller({h:40,c:(a.max+c-a.min)/c,back:t,remove:n.remove,scrollMin:-24,scroll:-24,draw:(k,e)=>{if(0>k)return g.setFont("12x20").setFontAlign(-1,0).drawString("\x00\f\f\x81\x00\xff\xff\xff\x00\x00\x00\x00\x0f\xff\xff\xf0\x00\x00\x00\x00\xff\xff\xff "+b,e.x+12,e.y+40-12);g.setColor(g.theme.bg2).fillRect({x:e.x+4,y:e.y+2,w:e.w-8,h:e.h-4,r:5});
k=k*c+a.min;g.setColor(g.theme.fg2).setFont("12x20").setFontAlign(-1,0).drawString(a.format?a.format(k,1):k,e.x+12,e.y+20);g.drawImage(atob(k==a.value?"FBSBAAH4AH/gHgeDgBww8MY/xmf+bH/jz/88//PP/zz/88f+Nn/mY/xjDww4AcHgeAf+AB+A":"FBSBAAH4AH/gHgeDgBwwAMYABmAAbAADwAA8AAPAADwAA8AANgAGYABjAAw4AcHgeAf+AB+A"),e.x+e.w-32,e.y+20-10)},select:function(k){if(!(0>k)){Bangle.buzz(20);a.value=a.min+k*c;if(a.onchange)a.onchange(a.value);u.scroll=q.scroller.scroll;t()}}});else{var d=Bangle.appRect,f=a.value;g.reset().clearRect(d);
g.setFont("12x20").setFontAlign(0,0).drawString("\x00\f\f\x81\x00\xff\xff\xff\x00\x00\x00\x00\x0f\xff\xff\xf0\x00\x00\x00\x00\xff\xff\xff "+b,d.x+d.w/2,d.y+12);function k(){var h=d.x+d.w/2,m=12+d.y+d.h/2,w=a.format?a.format(f,2):f;g.reset().setColor(g.theme.bg2).fillRect({x:d.x+24,y:d.y+36,w:d.w-48,h:d.h-48,r:5});g.setColor(g.theme.fg2).setFontVector(Math.min(30,100*(d.w-52)/g.setFontVector(100).stringWidth(w))).setFontAlign(0,0).drawString(w,h,m);g.fillPoly([h,m-45,h+15,m-30,
h-15,m-30]).fillPoly([h,m+45,h+15,m+30,h-15,m+30])}function e(h){if(h)f-=(h||1)*(a.step||1),void 0!==a.min&&f<a.min&&(f=a.wrap?a.max:a.min),void 0!==a.max&&f>a.max&&(f=a.wrap?a.min:a.max),k();else{a.value=f;if(a.onchange)a.onchange(a.value);u.scroll=q.scroller.scroll;t()}}k();var l=0;Bangle.setUI({mode:"custom",back:t,remove:n.remove,redraw:k,drag:h=>{l+=h.dy;for(h.b||(l=0);32<Math.abs(l);)0<l?(l-=32,e(1)):(l+=32,e(-1)),Bangle.buzz(20)},touch:(h,m)=>{Bangle.buzz(20);82>m.y?e(-1):142<m.y?e(1):e()}})}}
function t(){q.scroller=E.showScroller(u)}if(void 0===p)return g.clearRect(Bangle.appRect),Bangle.setUI();var n=p[""]||{};n.title||(n.title="Menu");var v=n.back||p["< Back"],r=Object.keys(p).filter(a=>""!==a&&"< Back"!=a);r.forEach(a=>{a=p[a];"object"!=typeof a||"boolean"!=typeof a.value||a.format||(a.format=b=>"\x00"+atob(b?"EhKBAH//v/////////////5//x//j//H+eP+Mf/A//h//z//////////3//g":"EhKBAH//v//8AA8AA8AA8AA8AA8AA8AA8AA8AA8AA8AA8AA8AA8AA///3//g"))});var q={draw:()=>q.scroller.draw(),scroller:void 0};
let x;var u={h:40,c:r.length,scrollMin:-24,scroll:null!=(x=n.scroll)?x:-24,back:v,remove:n.remove,draw:(a,b)=>{if(0>a)return g.setColor(g.theme.fg).setFont("12x20").setFontAlign(-1,0).drawString("\x00\f\f\x81\x00\xff\xff\xff\x00\x00\x00\x00\x0f\xff\xff\xf0\x00\x00\x00\x00\xff\xff\xff "+n.title,b.x+12,b.y+40-12);g.setColor(g.theme.bg2).fillRect({x:b.x+4,y:b.y+2,w:b.w-8,h:b.h-4,r:5});g.setColor(g.theme.fg2).setFont("12x20");var c=24,d=p[r[a]];if("object"==typeof d){var f=d.value;
d.format&&(f=d.format(f));g.stringMetrics(f).width>b.w/2&&(f=g.wrapString(f,b.w/2).join("\n"));g.setFontAlign(1,0).drawString(f,b.x+b.w-8,b.y+20);c+=g.stringWidth(f)}else"function"==typeof d&&(g.drawImage(atob("CRKBAGA4Hg8DwPB4HgcDg8PB4eHg8HAwAA=="),b.x+b.w-21,b.y+20-9),c+=16);var l;a=null!=(l=d&&d.title)?l:r[a];l=g.wrapString(a,b.w-c);1<l.length&&(l=g.setFont("6x15").wrapString(a,b.w-c));g.setFontAlign(-1,0).drawString(l.join("\n"),b.x+12,b.y+20)},select:function(a,b){if(0>a)return v&&v();var c=
p[r[a]];Bangle.buzz(20);if("function"==typeof c)c(b);else if("object"==typeof c)if("number"==typeof c.value)y(c,r[a]);else{"boolean"==typeof c.value&&(c.value=!c.value);if(c.onchange)c.onchange(c.value,b);q.scroller.isActive()&&q.scroller.drawItem(a)}}};t();return q})